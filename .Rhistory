#rspta.names <- c("id", "nobs.sulfate", "nobs.nitrate")
#colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
View(a)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas <- integer()
rspta <- data.frame("","","", stringsAsFactors = FALSE)
colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <-length(df.File$nitrate[!is.na(df.File$nitrate)])
rspta$id[i] <- id.file <- append(id.file, i)
rspta$nobs.sulfate[i] <- append(num.filas, filas1)
rspta$nobs.nitrate[i] <- append(num.filas, filas2)
#temp <- data.frame(id.file , num.filas1, num.filas2)
#colnames(temp) <- c("id", "nobs.sulfate", "nobs.nitrate")
#rspta = rbind(rspta, temp)
}
#rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs.sulfate", "nobs.nitrate")
#colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
View(a)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas <- integer()
rspta <- data.frame("","","", stringsAsFactors = FALSE)
colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <-length(df.File$nitrate[!is.na(df.File$nitrate)])
rspta$id[i+1] <- id.file <- append(id.file, i)
rspta$nobs.sulfate[i+1] <- append(num.filas, filas1)
rspta$nobs.nitrate[i+1] <- append(num.filas, filas2)
#temp <- data.frame(id.file , num.filas1, num.filas2)
#colnames(temp) <- c("id", "nobs.sulfate", "nobs.nitrate")
#rspta = rbind(rspta, temp)
}
#rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs.sulfate", "nobs.nitrate")
#colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas <- integer()
rspta <- data.frame("","","", stringsAsFactors = FALSE)
colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <-length(df.File$nitrate[!is.na(df.File$nitrate)])
id <- id.file <- append(id.file, i)
nobs.sulfate <- append(num.filas, filas1)
nobs.nitrate <- append(num.filas, filas2)
temp <- data.frame(id.file , num.filas1, num.filas2)
colnames(temp) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta = rbind(rspta, temp)
}
#rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs.sulfate", "nobs.nitrate")
#colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas <- integer()
rspta <- data.frame("","","", stringsAsFactors = FALSE)
colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <-length(df.File$nitrate[!is.na(df.File$nitrate)])
temp <- data.frame(id.file , num.filas1, num.filas2)
colnames(temp) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta = rbind(rspta, temp)
}
#rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs.sulfate", "nobs.nitrate")
#colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas <- integer()
rspta <- data.frame("","","", stringsAsFactors = FALSE)
colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
num.filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
num.filas2 <-length(df.File$nitrate[!is.na(df.File$nitrate)])
temp <- data.frame(id.file , num.filas1, num.filas2)
colnames(temp) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta = rbind(rspta, temp)
}
#rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs.sulfate", "nobs.nitrate")
#colnames(rspta) <- c("id", "nobs.sulfate", "nobs.nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas <- integer()
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas <- length(df.File$sulfate[!is.na(df.File$sulfate)])
id.file <- append(id.file, i)
num.filas <- append(num.filas, filas)
}
rspta <- data.frame(id.file , num.filas)
#rspta.names <- c("id", "nobs")
colnames(rspta) <- c("id", "nobs")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1)
View(a)
a <- complete ("specdata", 1:2)
View(a)
a <- complete ("specdata", 1:10)
View(a)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas <- integer()
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <- length(df.File$nitrate[!is.na(df.File$nitrate)])
id.file <- append(id.file, i)
num.filas1 <- append(num.filas1, filas1)
num.filas2 <- append(num.filas2, filas2)
}
rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs")
colnames(rspta) <- c("id", "nobs.sulfate", "nobs,nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas1 <- integer()
num.filas2 <- integer()
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <- length(df.File$nitrate[!is.na(df.File$nitrate)])
id.file <- append(id.file, i)
num.filas1 <- append(num.filas1, filas1)
num.filas2 <- append(num.filas2, filas2)
}
rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs")
colnames(rspta) <- c("id", "nobs.sulfate", "nobs,nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
View(a)
corr <- function(path.files, id = 0) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
list.cor <- c()
if(id == 0){
id = 332
}
for(i in 1:length(list.filenames)){
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
df.File <- df.File %>% drop_na()
if ( nrow(df.File) > id ) {
list.cor <- c(list.cor, cor(df.File$sulfate, df.File$nitrate))
}
}
return(list.cor)
}
#a <- corr("specdata", 1:10)
a <- corr("specdata", 1:10)
a <- corr("specdata", 1)
a <- corr("specdata", 1:10)
corr <- function(path.files, id = 0) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
list.cor <- c()
# this validation is useful if you enter as parameter id = 0
if(length(id) == 1){
if(id == 0){
id = 332
}
}
for(i in 1:length(list.filenames)){
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
df.File <- df.File %>% drop_na()
if ( nrow(df.File) > id ) {
list.cor <- c(list.cor, cor(df.File$sulfate, df.File$nitrate))
}
}
return(list.cor)
}
#a <- corr("specdata", 1:10)
a <- corr("specdata", 1:10)
corr <- function(path.files, id = 0) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
list.cor <- c()
# this validation is useful if you enter as parameter id = 0
if(length(id) == 1){
if(id == 0){
id = 332
}
}
for(i in 1:length(list.filenames)){
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
#df.File <- df.File %>% drop_na()
if ( nrow(df.File) > id ) {
list.cor <- c(list.cor, cor(df.File$sulfate, df.File$nitrate))
}
}
return(list.cor)
}
#a <- corr("specdata", 1:10)
a <- corr("specdata", 1:10)
a
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas1 <- integer()
num.filas2 <- integer()
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <- length(df.File$nitrate[!is.na(df.File$nitrate)])
id.file <- append(id.file, i)
num.filas1 <- append(num.filas1, filas1)
num.filas2 <- append(num.filas2, filas2)
}
rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs")
colnames(rspta) <- c("id.file", "nobs.sulfate", "nobs,nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
View(a)
#####################################################################
# programming assignment 1: Course Project
# r-programming
# Marco Guado Zavaleta, mguado@gmail.com
# Octubre 2016
#####################################################################
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas1 <- integer()
num.filas2 <- integer()
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <- length(df.File$nitrate[!is.na(df.File$nitrate)])
id.file <- append(id.file, i)
num.filas1 <- append(num.filas1, filas1)
num.filas2 <- append(num.filas2, filas2)
}
rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs")
colnames(rspta) <- c("id.file", "nobs.sulfate", "nobs.nitrate")
rspta
}
#a <- complete ("specdata", 1:10)
a <- complete ("specdata", 1:10)
cor(a$nobs.sulfate, a$nobs.nitrate)
cor(a$nobs.sulfate[1], a$nobs.nitrate[1])
a$nobs.sulfate
a$nobs.sulfate[1]
a$nobs.nitrate[1]
cor(117, 122)
cor(a)
plot(a)
hist(a)
a
plot(a)
plot(a)
hist(a)
plot(a$nobs.sulfate, a$nobs.nitrate)
getwd()
url = "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
download.file(url, "urlFileData.zip") # download file
unzip("urlFileData.zip", exdir = "data")
list.files()
file.temp = read.csv(file="data/001.csv", header = TRUE, sep = ",")
head(file.temp)
file.temp = read.csv(file="data/specdata/001.csv", header = TRUE, sep = ",")
head(file.temp)
pollutantmean <- function(path.files, pollutant, id = 0) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
#numercia list that stores all values, useful to determine the median
list.values <- numeric()
#this validation is useful if you enter as parameter id = 0
if(length(id) == 1){
if(id == 0){
id = 332
}
}
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
#filter by sulfate or nitrate
if(pollutant == "sulfate"){
valores <- df.File$sulfate[!is.na(df.File$sulfate)]
}
else{
valores <- df.File$nitrate[!is.na(df.File$nitrate)]
}
#It contains all values for each interaction
list.values <- append(list.values, valores)
}
#calculation of the mean
return(mean(list.values))
}
pollutantmean ("specdata", "sulfate", 1:10)
pollutantmean ("specdata", "sulfate", 1:332)
url = "https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip"
download.file(url, "urlFileData.zip")
unzip("urlFileData.zip", exdir = "data")
list.files()
file.temp = read.csv(file="data/specdata/001.csv", header = TRUE, sep = ",")
head(file.temp)
# Function created:
pollutantmean <- function(path.files, pollutant, id = 0) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
#numercia list that stores all values, useful to determine the median
list.values <- numeric()
#this validation is useful if you enter as parameter id = 0
if(length(id) == 1){
if(id == 0){
id = 332
}
}
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
#filter by sulfate or nitrate
if(pollutant == "sulfate"){
valores <- df.File$sulfate[!is.na(df.File$sulfate)]
}
else{
valores <- df.File$nitrate[!is.na(df.File$nitrate)]
}
#It contains all values for each interaction
list.values <- append(list.values, valores)
}
#calculation of the mean
return(mean(list.values))
}
# We execute the function to calculate the average summing all the files from 1 to the last 332.
pollutantmean ("specdata", "sulfate", 1:332)
complete  <- function(path.files, id) {
#We store all file names
list.filenames <- list.files(path.files, pattern="*.csv")
id.file <- integer()
num.filas1 <- integer()
num.filas2 <- integer()
for(i in c(id) ) {
#file name processing
filename <- paste(path.files, list.filenames[i], sep = "/")
#load the file contents
df.File <- read.csv(filename, head=TRUE, sep=",")
filas1 <- length(df.File$sulfate[!is.na(df.File$sulfate)])
filas2 <- length(df.File$nitrate[!is.na(df.File$nitrate)])
id.file <- append(id.file, i)
num.filas1 <- append(num.filas1, filas1)
num.filas2 <- append(num.filas2, filas2)
}
rspta <- data.frame(id.file , num.filas1, num.filas2)
#rspta.names <- c("id", "nobs")
colnames(rspta) <- c("id.file", "nobs.sulfate", "nobs.nitrate")
rspta
}
# Example
tmp <- complete ("specdata", 1:10)
tmp
tmp.cor <- cor(tmp)
tmp.cor
plot(tmp$nobs.sulfate, tmp$nobs.nitrate)
